Refactor and unify the position classes
